# ResidentSignalR

## 背景

项目限制设备访问外网，后台使用`SignalR`收发通知，iOS 端支持 iOS 10+， 使用 Swift 开发，不上架采用企业证书分发。

## 需求

APP 进入后台或设备锁屏后仍需收到服务器推送的消息。

## 方案

❎ 限制外网、排除苹果官方推送。APP 不上架，考虑 APP 后台常驻

❎ 开启后台定位，设备顶部显示蓝条。排除

❎ iOS 10 后通知框架整合，通过 VOIP 保持与服务器的 socket 连接已经失效。排除

✅ 后台播放音频，通过配置`AVAudioSession`可以实现前台无察觉。采用